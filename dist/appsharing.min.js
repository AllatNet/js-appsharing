/**
 * Loci GmbH - AppSharing.com Library
 *
 * @author Loci GmbH
 * @version 1.0.0
 * @license Private
 * @link https://www.app-sharing.com
 * @link https://www.loci.com
 */
class iFrameBridge_AppSharing{constructor(e,t="client"){this.iframe_name=e,this.source_window=t,this.init()}init(){this.iframe=document.getElementById(this.iframe_name),this.iframe&&this.iframe.addEventListener("load",this.onLoad.bind(this)),window.addEventListener("message",this.onMessage.bind(this))}execute(e){"server"===this.source_window?this.toParent(e):this.toFrame(e)}toFrame(e){this.iframe.contentWindow.postMessage({type:"execute",data:e},"*")}toParent(e){window.parent.postMessage({type:"execute",data:e},"*")}onMessage(event){"client"===this.source_window&&-1===event.origin.indexOf("www.app-sharing.com")||"execute"===event.data.type&&eval(event.data.data)}onLoad(e){var t=this,i=window.scrollY|document.body.scrollTop,n=this.iframe.offsetTop;i<n&&(i=n),t.execute("var styleSheet = document.createElement('style');styleSheet.id = 'iframe_mfp_style';styleSheet.type = 'text/css';styleSheet.innerText = '.mfp-wrap .mfp-container .mfp-content { top: "+i+"px; }';document.head.appendChild(styleSheet);"),window.addEventListener("scroll",(function(){i=window.scrollY|document.body.scrollTop,n=t.iframe.offsetTop,i<n&&(i=n),t.execute("var styleTag = document.getElementById('iframe_mfp_style');styleTag.innerText = '.mfp-wrap .mfp-container .mfp-content { top: "+i+"px; }';")}))}}class iFrameLoader_AppSharing{constructor(e,t=!1,i=!1,n="appsharing_contentframe"){this.src=e,t&&(this.width=t),i&&(this.height=i),this.name=n,this.init()}init(){this.createFrame(),this.loadFrame()}createFrame(){let e=document.getElementById("__app_sharing_wireframe");e&&(e.src=this.src,e.name=this.name,e.id=this.name,e.style.border="none",this.width?e.style.width=this.width:e.style.width="100%",this.height?e.style.height=this.height:e.style.height="100%",e.style.minHeight="500px",e.style.zIndex="1",e.style.overflow="hidden",e.innerHTML="Bitte haben Sie noch einen Augenblick geduld, während wir die Seite für Sie vorbereiten.",this.iframe=e)}loadFrame(){this.iframe&&(this.bridge=new iFrameBridge_AppSharing(this.iframe.name))}}class Deploy_AppSharing{constructor(e,t="load_lcms_frame"){this.src=e,this.element_target=t,this.init()}element(){let e=document.getElementById(this.element_target),t=document.createElement("div");t.innerHTML=e.innerHTML,t.id=this.element_target,t.classList.add("lcms-frame-container"),e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e)}init(){this.element(),this.container=document.getElementById(this.element_target),this.ajax()}ajax(){let e=new XMLHttpRequest;e.open("GET",this.src,!0),e.onreadystatechange=()=>{4===e.readyState&&200===e.status&&(this.container.innerHTML=e.responseText)},e.send()}}